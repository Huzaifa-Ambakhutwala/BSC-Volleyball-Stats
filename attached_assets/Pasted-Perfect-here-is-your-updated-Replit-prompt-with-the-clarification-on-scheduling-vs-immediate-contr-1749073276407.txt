Perfect â€” here is your updated Replit prompt with the clarification on scheduling vs immediate controls:

â¸»

âœ… Replit Prompt: Manage Downtime System (with Scheduled and Manual Controls)

Add a â€œManage Downtimeâ€ section in the Admin Dashboard with the following functionality:

â¸»

ğŸ–¥ Admin UI (ManageDowntimePage.tsx):

1. Schedule Downtime
	â€¢	Input fields:
	â€¢	Start Date/Time (datetime picker)
	â€¢	End Date/Time (datetime picker)
	â€¢	Downtime Message (textarea)
	â€¢	âœ… Button: â€œSchedule Downtimeâ€
	â€¢	Stores downtime object in /data/downtime.json
	â€¢	Marks "active": false initially and downtime only activates when currentTime >= start

2. Immediate Controls
	â€¢	ğŸ”´ â€œStart Downtime Nowâ€ button:
	â€¢	Optional popup/input to write a message
	â€¢	Immediately sets active: true and start: now, end: null, stores in /data/downtime.json
	â€¢	ğŸŸ¢ â€œEnd Downtime Nowâ€ button:
	â€¢	Clears or disables downtime, sets active: false, overriddenByAdmin: false

3. Display Current Downtime Status
	â€¢	If downtime is scheduled or active, show:
	â€¢	Start, End, Message, and whether itâ€™s currently active

â¸»

ğŸ§  Logic (Middleware in _app.tsx or shared layout):
	â€¢	Load /data/downtime.json
	â€¢	If:

downtime.active &&
(!downtime.overriddenByAdmin) &&
(downtime.end === null || currentTime <= downtime.end)

â†’ Redirect user to /maintenance.html

	â€¢	Exception: If admin logs in from maintenance page, set overriddenByAdmin: true in downtime.json

â¸»

ğŸ“„ maintenance.html:
	â€¢	Display:
	â€¢	â—â€Site Under Maintenanceâ€
	â€¢	ğŸ’¬ Message from downtime.message
	â€¢	ğŸ” â€œAdmin Loginâ€ button at the bottom:
	â€¢	Authenticates using existing Admin credentials
	â€¢	If success, unlocks for that admin session by setting overriddenByAdmin: true

â¸»

âœ… Requirements:
	â€¢	All data stored in:

/data/downtime.json


	â€¢	Prevent all app pages (stat tracker, schedule, history, scoreboard, etc.) during downtime
	â€¢	Downtime ends automatically at end OR if manually ended
	â€¢	Admin UI must cleanly allow both manual and scheduled downtime management

â¸»

Let me know if you want me to generate the downtime.json schema or the check function too!